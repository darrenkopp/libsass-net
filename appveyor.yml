---
version: '1.0.{build}'

os: Visual Studio 2015

configuration:
  - Debug
  - Release

environment:
  matrix:
    - LibSassPlatform: Win32
      XunitExecutable: xunit.console.x86
    - LibSassPlatform: Win64
      XunitExecutable: xunit.console

install:
  - git submodule update --init --recursive

before_build:
  - nuget restore

build:
  verbosity: minimal
  project: LibSass.NET.sln

test_script:
  - packages\xunit.runner.console.2.1.0\tools\%XunitExecutable% LibSass.NET.Tests\bin\%configuration%\LibSass.NET.Tests.dll 2>nul

on_success:
  - 7z a libsass-net.zip .
  - ps: Push-AppveyorArtifact libsass-net.zip
